---
title: 'Rust to Python'
date: 2024-03-11
permalink: /posts/2024/03/rust-python/
author_profile: false
tags:
  - Rust
  - Python
  - Optimization
---

## High-Low levels of coding


In the world of Software Engineering, the choice of programming langugage plays a pivotal role in determining the performance, reliability and scalability. Low-level like Assembly and C have been favoured for critical systems where the performance is paramount.

Microsoft Windows is one of the most popular OS in the Desktop PC's and it's hold 72% of the market share. MS Windows and it's kernal is developed on top of C and certain critical level components like drivers are written in Assembly language for direct machine level operations. Similary other popular Os s' like Linux and MacOS systems follows same design architecture.

https://www.statista.com/statistics/218089/global-market-share-of-windows-7/
https://www.mentofacturing.com/Vincent/implementations.html

![Language pyramid of the software and computer](https://puudi.github.io/files/lang_pyramid.png)

## Why High level exist?

Low level languages have some limitations like lack of abstraction, reduced productivity and lack of skill. 

***Lack of abstraction***, Assembly is very hard to grasp for a software engineer unlike python where you can start coding without digging deep into the fundamentals. The following two code snippets shows the different between printing "Hello World!" in two different programming language, Assembly and Python.

### Assembly Language
```
section        .text                   ; declare the .text section
global         _start                  ; has to be declared for the linker (ld)
_start:                                ; entry point for _start
    mov edx, len                       ; "invoke" the len of the message
    mov ecx, msg                       ; "invoke" the message itself

    mov ebx, 1                         ; set the file descriptor (fd) to stdout

    mov eax, 4                         ; system call for "write"   
    int 0x80                           ; call the kernel

    mov eax, 1                         ; system call for "exit"
    int 0x80                           ; call the kernel

section        .data                   ; here you declare the data
    msg        db "Hello world!"       ; the actual message to use
    len        equ $ -msg              ; get the size of the message
     
```
### Python
```
print("Hello World!)
```

***Reducing productivity*** of programmers due to the fact that you basically have to write more characters and in case of debugging, you need some level of proper understanding and you have less to no help due to the lack of programmers. This will slow down the productivity, So the trade of having more control of the hardware is not great compared to the time and skill a person has to put into these.

***Lack of Skill***, it's very hard to find skilled enough people who can code in machine level coding while having good understanding about hardware. Labour cost could be higher so hiring people can be challenging in these scenarios.

Due to these reasons, modern developers tends to write programms in C++, Python, JS and many other higher level programming languages. Following document/graph shows the popularity based on number of repos pushed to the github over the years and you can see almost all of the popular languages are Higher Languages while Assembley is in lower twenties.

[github language popularity based on repos by https://innovationgraph.github.com/](https://puudi.github.io/files/github_popular_languages.pdf
)


## Is Python good enough? ðŸ¤”

Python has become the preferred language for many data scientists looking to begin their coding journey. One of its greatest strengths is its simplicity. Its keywords are intuitive, making it easy to start and get things moving. Tools like Jupyter and Google Colab notebooks enable non-software engineers to experiment with Python and swiftly put their ideas into action with minimal setup time.

Python has emerged as the dominant language when it comes to developing ML products. Due to the community support and the rich libraries for ML Data Scientist has found Python to be more useful in terms of flexibility. 

Latest open source model GPT 2 by Open AI model was purley written in Python. (*Could have used other langugae in the actual training process*)
[GPT 2 Repo](https://github.com/openai/gpt-2)

![Python code use by GPT 2](https://puudi.github.io/files/gpt2python.jpg)

## How to break the Performance Barrier (GIL ðŸ¥²)

GIL (Global Interpreter Lock) is a feature in Python interpreter which makes it powerful and easy to use. While the GIL offers benefits like simplicity and ease of implementation, it limits Python's ability to achieve full multicore performance by restricting true parallel execution of multiple threads. Due to the GIL python will executes it's threads only on one processor even though modern CPU contains multiple processors.

A year ago, Guido Van Rossum delved into Python's future during his conversation with [Lex Fridman](https://youtu.be/m4zDBk0zAUY?si=q9HKRLlM9FRiXIOl) on his podcast. He hinted at a potential future where the Global Interpreter Lock (GIL) might be eliminated from forthcoming versions of Python.

